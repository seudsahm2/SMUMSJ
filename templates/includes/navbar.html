{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="{% static 'dashboard/bootstrap-5.3.3-dist/css/bootstrap.min.css' %}" />

<!-- Navbar Start -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container-fluid">
    <!-- Brand Logo and Text -->
    <a class="navbar-brand d-flex align-items-center m-0 p-0" href="/">
      <img src="{% static 'images/logo.jpg' %}" alt="Jama Logo" width="50" height="50" class="me-2 rounded-circle border border-gold-accent shadow-sm" />
      <span class="h4 fw-bold" id="navbarText">جامعية طلبة مسلمي سانت ماري</span>
    </a>

    <!-- Navbar Toggler for mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Links -->
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'dashboard:member-dashboard' %}"><i class="fas fa-home me-2"></i> Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'events:event-list' %}"><i class="fas fa-calendar-alt me-2"></i> Events</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'charity:campaigns' %}"><i class="fas fa-hand-holding-heart me-2"></i> Charity</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'resources:resource-list' %}"><i class="fas fa-book-open me-2"></i> Resources</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'dawah:daily-hadith' %}"><i class="fas fa-book-open me-2"></i> Hadith</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'edit' %}"><i class="fas fa-user me-2"></i> Profile</a>
        </li>
        {% if request.user.is_authenticated %}
        <!-- Logout Button -->
        <li class="nav-item">
          <form action="{% url 'logout' %}" method="post">
            <button class="nav-link" href="{% url 'logout' %}" onclick="return confirm('Are you sure you want to log out?')">
              <i class="fas fa-sign-out-alt me-2"></i> Logout
            </button>
            {% csrf_token %}
          </form>
        </li>
      {% else %}
        <!-- Login Button -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}">
            <i class="fas fa-sign-in-alt me-2"></i> Login
          </a>
        </li>
      {% endif %}
      </ul>
    </div>
  </div>
</nav>
<!-- Navbar End -->

<style>
  /* Navbar with Background Image */
  .navbar {
    background: rgb(4, 22, 11);
    background-size: cover;
    box-shadow: none;
    border-bottom: 2px solid rgba(255, 255, 255, 0.2); /* Subtle white border */
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }

  /* Add background on scroll */
  .navbar.scrolled {
    background: rgba(42, 90, 59, 0.9); /* Deep green with opacity */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* Navbar Brand and Links */
  .navbar-brand span,
  .nav-link {
    color: #ffffff !important; /* White text */
    letter-spacing: 1px;
    font-weight: bold;
    font-size: 1rem; /* Adjust font size to fit the screen */
  }

  /* Hover Effects for Links */
  .nav-link:hover {
    color: #C19A6B !important; /* Warm gold on hover */
    text-decoration: underline;
  }

  /* Navbar Toggler Icon */
  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255,255,255,0.8)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
  }

  /* Ensure the navbar text and button are aligned */
  .navbar .container-fluid {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* Media Queries for screen sizes */
  @media (min-width: 992px) {
    .navbar-nav {
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    .navbar-nav .nav-item {
      margin-left: 15px; /* Space out the nav items */
    }

    .navbar-toggler {
      display: none; /* Hide the toggle button on larger screens */
    }
  }

  @media (max-width: 991px) and (min-width: 568px) {
    .navbar-nav {
      display: flex;
      flex-direction: row; /* Keep items in a row between 568px and 992px */
      align-items: center;
      justify-content: flex-end;
    }

    .navbar-nav .nav-item {
      margin-left: 15px; /* Space out the nav items */
    }

  }

  @media (max-width: 567px) {
    .navbar-nav {
      display: block;
      width: 100%; /* Stack the navbar items vertically below 568px */
    }

    .navbar-nav .nav-item {
      text-align: center; /* Center align the items */
      margin: 10px 0; /* Vertical spacing */
    }

    .navbar-toggler {
      display: block; /* Show the toggle button on mobile */
    }

    .navbar-nav .nav-item a {
      font-size: 1.2rem;
    }
  }
</style>

<!-- JavaScript for Scroll Detection and Logout Confirmation -->
<script>
  /* Scroll Detection Script */
  window.addEventListener('scroll', function () {
    const navbar = document.querySelector('.navbar');
    if (window.scrollY > 50) {
      navbar.classList.add('scrolled');
    } else {
      navbar.classList.remove('scrolled');
    }
  });

  function logoutConfirm() {
    if (confirm("Are you sure you want to log out?")) {
      // Implement the logout functionality here
    }
  }
</script>
